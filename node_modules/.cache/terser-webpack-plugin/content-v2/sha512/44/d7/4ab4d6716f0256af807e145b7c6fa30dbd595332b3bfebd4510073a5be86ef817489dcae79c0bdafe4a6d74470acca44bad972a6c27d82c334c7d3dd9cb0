{"code":"!function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,o){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:o})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&r&&\"string\"!=typeof t)for(var n in t)e.d(o,n,function(e){return t[e]}.bind(null,n));return o},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,\"a\",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=3)}([function(t){t.exports=react},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=function(){function t(t,e){for(var r,o=0;o<e.length;o++)(r=e[o]).enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),n=function(t){return t&&t.__esModule?t:{default:t}}(r(0)),a=r(2),l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.scriptLoaderId=\"id\"+r.constructor.idCount++,r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"componentDidMount\",value:function(){var t=this.props,e=t.onError,r=t.onLoad,o=t.url;return this.constructor.loadedScripts[o]?void r():this.constructor.erroredScripts[o]?void e():this.constructor.scriptObservers[o]?void(this.constructor.scriptObservers[o][this.scriptLoaderId]=this.props):(this.constructor.scriptObservers[o]=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},this.scriptLoaderId,this.props),void this.createScript())}},{key:\"componentWillUnmount\",value:function(){var t=this.props.url,e=this.constructor.scriptObservers[t];e&&delete e[this.scriptLoaderId]}},{key:\"createScript\",value:function(){var t=this,e=this.props,r=e.onCreate,o=e.url,n=e.attributes,a=document.createElement(\"script\");r(),n&&Object.keys(n).forEach((function(t){return a.setAttribute(t,n[t])})),a.src=o,a.hasAttribute(\"async\")||(a.async=1);var l=function(e){var r=t.constructor.scriptObservers[o];Object.keys(r).forEach((function(n){e(r[n])&&delete t.constructor.scriptObservers[o][t.scriptLoaderId]}))};a.onload=function(){t.constructor.loadedScripts[o]=!0,l((function(t){return t.onLoad(),!0}))},a.onerror=function(){t.constructor.erroredScripts[o]=!0,l((function(t){return t.onError(),!0}))},document.body.appendChild(a)}},{key:\"render\",value:function(){return null}}]),e}(n.default.Component);l.propTypes={attributes:a.PropTypes.object,onCreate:a.PropTypes.func,onError:a.PropTypes.func.isRequired,onLoad:a.PropTypes.func.isRequired,url:a.PropTypes.string.isRequired},l.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},l.scriptObservers={},l.loadedScripts={},l.erroredScripts={},l.idCount=0,e.default=l,t.exports=e.default},function(t){t.exports=prop-types},function(t,e,r){\"use strict\";function o(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function n(t,e,r,o){return new(r||(r=Promise))((function(n,a){function l(t){try{s(o.next(t))}catch(t){a(t)}}function i(t){try{s(o.throw(t))}catch(t){a(t)}}function s(t){t.done?n(t.value):new r((function(e){e(t.value)})).then(l,i)}s((o=o.apply(t,e||[])).next())}))}function a(t,e){function r(t){return function(e){return o([t,e])}}function o(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,a&&(l=2&r[0]?a.return:r[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,r[1])).done)return l;switch(a=0,l&&(r=[2&r[0],l.value]),r[0]){case 0:case 1:l=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,a=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(l=s.trys,(l=0<l.length&&l[l.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!l||r[1]>l[0]&&r[1]<l[3])){s.label=r[1];break}if(6===r[0]&&s.label<l[1]){s.label=l[1],l=r;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(r);break}l[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],a=0}finally{n=l=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var n,a,l,i,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}r.r(e);var l=r(0),i=r(1),s=r.n(i),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},c=function(){return(c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},p={graph_id:null,legend_toggle:!1,graphID:null,options:{colors:null},data:null,rows:null,columns:null,diffdata:null,chartEvents:null,legendToggle:!1,chartActions:null,getChartWrapper:function(){},getChartEditor:null,className:\"\",style:{},formatters:null,spreadSheetUrl:null,spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},controls:null,render:null,toolbarItems:null,toolbarID:null},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleGoogleChartsLoaderScriptLoaded=function(t){var r=e.props,o=r.chartVersion,n=r.chartPackages,a=r.chartLanguage,l=r.mapsApiKey,i=r.onLoad;t.charts.load(o||\"current\",{packages:n||[\"corechart\",\"controls\"],language:a||\"en\",mapsApiKey:l}),t.charts.setOnLoadCallback((function(){i(t)}))},e}return o(e,t),e.prototype.shouldComponentUpdate=function(t){return t.chartPackages===this.props.chartPackages},e.prototype.render=function(){var t=this,e=this.props.onError;return Object(l.createElement)(s.a,{url:\"https://www.gstatic.com/charts/loader.js\",onError:e,onLoad:function(){var e=window;e.google&&t.handleGoogleChartsLoaderScriptLoaded(e.google)}})},e}(l.Component),h=0,g=function(){return\"reactgooglegraph-\"+(h+=1)},f=[\"#3366CC\",\"#DC3912\",\"#FF9900\",\"#109618\",\"#990099\",\"#3B3EAC\",\"#0099C6\",\"#DD4477\",\"#66AA00\",\"#B82E2E\",\"#316395\",\"#994499\",\"#22AA99\",\"#AAAA11\",\"#6633CC\",\"#E67300\",\"#8B0707\",\"#329262\",\"#5574A6\",\"#3B3EAC\"],v=function(t,e,r){return void 0===r&&(r={}),n(void 0,void 0,void 0,(function(){return a(this,(function(){return[2,new Promise((function(o,n){var a=r.headers?\"headers=\"+r.headers:\"headers=0\",l=r.query?\"&tq=\"+encodeURIComponent(r.query):\"\",i=r.gid?\"&gid=\"+r.gid:\"\",s=r.sheet?\"&sheet=\"+r.sheet:\"\",u=r.access_token?\"&access_token=\"+r.access_token:\"\";new t.visualization.Query(e+\"/gviz/tq?\"+a+i+s+l+u).send((function(t){t.isError()?n(\"Error in query:  \"+t.getMessage()+\" \"+t.getDetailedMessage()):o(t.getDataTable())}))}))]}))}))},m=Object(l.createContext)(p),b=m.Provider,y=m.Consumer,C=function(t){var e=t.children,r=t.value;return Object(l.createElement)(b,{value:r},e)},w=function(t){var e=t.render;return Object(l.createElement)(y,null,(function(t){return e(t)}))},O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hiddenColumns:[]},e.listenToLegendToggle=function(){var t=e.props,r=t.google,o=t.googleChartWrapper;r.visualization.events.addListener(o,\"select\",(function(){var t=o.getChart().getSelection(),r=o.getDataTable();if(0!==t.length&&null===t[0].row&&null!==r){var n=t[0].column,a=e.getColumnID(r,n);e.state.hiddenColumns.includes(a)?e.setState((function(t){return c({},t,{hiddenColumns:t.hiddenColumns.filter((function(t){return t!==a})).slice()})})):e.setState((function(t){return c({},t,{hiddenColumns:t.hiddenColumns.concat([a])})}))}}))},e.applyFormatters=function(t,r){for(var o,n=e.props.google,a=0,l=r;a<l.length;a++)switch(o=l[a],o.type){case\"ArrowFormat\":(s=new n.visualization.ArrowFormat(o.options)).format(t,o.column);break;case\"BarFormat\":(s=new n.visualization.BarFormat(o.options)).format(t,o.column);break;case\"ColorFormat\":for(var i,s=new n.visualization.ColorFormat(o.options),u=0,c=o.ranges;u<c.length;u++)i=c[u],s.addRange.apply(s,i);s.format(t,o.column);break;case\"DateFormat\":(s=new n.visualization.DateFormat(o.options)).format(t,o.column);break;case\"NumberFormat\":(s=new n.visualization.NumberFormat(o.options)).format(t,o.column);break;case\"PatternFormat\":(s=new n.visualization.PatternFormat(o.options)).format(t,o.column)}},e.getColumnID=function(t,e){return t.getColumnId(e)||t.getColumnLabel(e)},e.draw=function(t){var r=t.data,o=t.diffdata,l=t.rows,i=t.columns,s=t.options,u=t.legend_toggle,c=t.legendToggle,p=t.chartType,d=t.formatters,h=t.spreadSheetUrl,g=t.spreadSheetQueryParameters;return n(e,void 0,void 0,(function(){var t,e,n,f,m,b,y,C,w,O,E,T,D,P;return a(this,(function(a){switch(a.label){case 0:return t=this.props,e=t.google,n=t.googleChartWrapper,m=null,null!==o&&(b=e.visualization.arrayToDataTable(o.old),y=e.visualization.arrayToDataTable(o.new),m=e.visualization[p].prototype.computeDiff(b,y)),null===r?[3,1]:(f=Array.isArray(r)?e.visualization.arrayToDataTable(r):new e.visualization.DataTable(r),[3,5]);case 1:return null===l||null===i?[3,2]:(f=e.visualization.arrayToDataTable([i].concat(l)),[3,5]);case 2:return null===h?[3,4]:[4,v(e,h,g)];case 3:return f=a.sent(),[3,5];case 4:f=e.visualization.arrayToDataTable([]),a.label=5;case 5:for(C=f.getNumberOfColumns(),w=0;w<C;w+=1)O=this.getColumnID(f,w),this.state.hiddenColumns.includes(O)&&(E=f.getColumnLabel(w),T=f.getColumnId(w),D=f.getColumnType(w),f.removeColumn(w),f.addColumn({label:E,id:T,type:D}));return P=n.getChart(),\"Timeline\"===n.getChartType()&&P&&P.clearChart(),n.setChartType(p),n.setOptions(s),n.setDataTable(f),n.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(f),null!==m&&(n.setDataTable(m),n.draw()),null!==d&&(this.applyFormatters(f,d),n.setDataTable(f),n.draw()),(!0===c||!0===u)&&this.grayOutHiddenColumns({options:s}),[2]}}))}))},e.grayOutHiddenColumns=function(t){var r=t.options,o=e.props.googleChartWrapper,n=o.getDataTable();if(null!==n){var a=n.getNumberOfColumns();if(0!=0<e.state.hiddenColumns.length){var l=Array.from({length:a-1}).map((function(t,o){var a=e.getColumnID(n,o+1);return e.state.hiddenColumns.includes(a)?\"#CCCCCC\":void 0!==r.colors&&null!==r.colors?r.colors[o]:f[o]}));o.setOptions(c({},r,{colors:l})),o.draw()}}},e.onResize=function(){e.props.googleChartWrapper.draw()},e}return o(e,t),e.prototype.componentDidMount=function(){this.draw(this.props),window.addEventListener(\"resize\",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.google,r=t.googleChartWrapper;window.removeEventListener(\"resize\",this.onResize),e.visualization.events.removeAllListeners(r),\"Timeline\"===r.getChartType()&&r.getChart()&&r.getChart().clearChart()},e.prototype.componentDidUpdate=function(){this.draw(this.props)},e.prototype.render=function(){return null},e}(l.Component),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.componentDidMount=function(){},e.prototype.componentWillUnmount=function(){},e.prototype.shouldComponentUpdate=function(){return!1},e.prototype.render=function(){var t=this.props,e=t.google,r=t.googleChartWrapper,o=t.googleChartDashboard;return Object(l.createElement)(w,{render:function(t){return Object(l.createElement)(O,c({},t,{google:e,googleChartWrapper:r,googleChartDashboard:o}))}})},e}(l.Component),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.shouldComponentUpdate=function(){return!1},e.prototype.listenToEvents=function(t){var e=this,r=t.chartEvents,o=t.google,n=t.googleChartWrapper;if(null!==r){o.visualization.events.removeAllListeners(n);for(var a=function(t){var r=t.eventName,a=t.callback;o.visualization.events.addListener(n,r,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];a({chartWrapper:n,props:e.props,google:o,eventArgs:t})}))},l=0,i=r;l<i.length;l++)a(i[l])}},e.prototype.render=function(){var t=this,e=this.props,r=e.google,o=e.googleChartWrapper;return Object(l.createElement)(w,{render:function(e){return t.listenToEvents({chartEvents:e.chartEvents||null,google:r,googleChartWrapper:o}),null}})},e}(l.Component),D=0,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},e.graphID=null,e.dashboard_ref=Object(l.createRef)(),e.toolbar_ref=Object(l.createRef)(),e.getGraphID=function(){var t,r=e.props,o=r.graphID,n=r.graph_id;return t=null===o&&null===n?null===e.graphID?g():e.graphID:null!==o&&null===n?o:null!==n&&null===o?n:o,e.graphID=t,e.graphID},e.getControlID=function(t,e){return D+=1,void 0===t?\"googlechart-control-\"+e+\"-\"+D:t},e.addControls=function(t,r){var o=e.props,n=o.google,a=o.controls,l=null===a?null:a.map((function(t,r){var o=t.controlID,a=t.controlType,l=t.options,i=t.controlWrapperParams,s=e.getControlID(o,r);return{controlProp:t,control:new n.visualization.ControlWrapper(c({containerId:s,controlType:a,options:l},i))}}));if(null===l)return null;r.bind(l.map((function(t){return t.control})),t);for(var i=function(r){for(var o=r.control,a=r.controlProp.controlEvents,l=function(r){var a=r.callback,l=r.eventName;n.visualization.events.removeListener(o,l,a),n.visualization.events.addListener(o,l,(function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];a({chartWrapper:t,controlWrapper:o,props:e.props,google:n,eventArgs:r})}))},i=0,s=void 0===a?[]:a;i<s.length;i++)l(s[i])},s=0,u=l;s<u.length;s++)i(u[s]);return l},e.renderChart=function(){var t=e.props,r=t.width,o=t.height,n=t.options,a=t.style,i=t.className,s=t.rootProps,u=t.google,p=c({height:o||n&&n.height,width:r||n&&n.width},a);return Object(l.createElement)(\"div\",c({id:e.getGraphID(),style:p,className:i},s),e.state.isReady&&null!==e.state.googleChartWrapper?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(E,{googleChartWrapper:e.state.googleChartWrapper,google:u,googleChartDashboard:e.state.googleChartDashboard}),Object(l.createElement)(T,{googleChartWrapper:e.state.googleChartWrapper,google:u})):null)},e.renderControl=function(t){return void 0===t&&(t=function(t){t.control,t.controlProp;return!0}),e.state.isReady&&null!==e.state.googleChartControls?Object(l.createElement)(l.Fragment,null,e.state.googleChartControls.filter((function(e){var r=e.controlProp,o=e.control;return t({control:o,controlProp:r})})).map((function(t){var e=t.control;t.controlProp;return Object(l.createElement)(\"div\",{key:e.getContainerId(),id:e.getContainerId()})}))):null},e.renderToolBar=function(){return null===e.props.toolbarItems?null:Object(l.createElement)(\"div\",{ref:e.toolbar_ref})},e}return o(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.options,r=t.google,o=t.chartType,n=t.chartWrapperParams,a=t.toolbarItems,l=t.getChartEditor,i=t.getChartWrapper,s=c({chartType:o,options:e,containerId:this.getGraphID()},n),u=new r.visualization.ChartWrapper(s);u.setOptions(e),i(u,r);var p=new r.visualization.Dashboard(this.dashboard_ref),d=this.addControls(u,p);null!==a&&r.visualization.drawToolbar(this.toolbar_ref.current,a);var h=null;null!==l&&l({chartEditor:h=new r.visualization.ChartEditor,chartWrapper:u,google:r}),this.setState({googleChartEditor:h,googleChartControls:d,googleChartDashboard:p,googleChartWrapper:u,isReady:!0})},e.prototype.componentDidUpdate=function(){if(null!==this.state.googleChartWrapper&&null!==this.state.googleChartDashboard&&null!==this.state.googleChartControls)for(var t=this.props.controls,e=0;e<t.length;e+=1){var r=t[e],o=r.controlType,n=r.options,a=r.controlWrapperParams;a&&\"state\"in a&&this.state.googleChartControls[e].control.setState(a.state),this.state.googleChartControls[e].control.setOptions(n),this.state.googleChartControls[e].control.setControlType(o)}},e.prototype.shouldComponentUpdate=function(t,e){return this.state.isReady!==e.isReady||t.controls!==this.props.controls},e.prototype.render=function(){var t=this.props,e=t.width,r=t.height,o=t.options,n=t.style,a=c({height:r||o&&o.height,width:e||o&&o.width},n);return null===this.props.render?Object(l.createElement)(\"div\",{ref:this.dashboard_ref,style:a},this.renderControl((function(t){return\"bottom\"!==t.controlProp.controlPosition})),this.renderChart(),this.renderControl((function(t){return\"bottom\"===t.controlProp.controlPosition})),this.renderToolBar()):Object(l.createElement)(\"div\",{ref:this.dashboard_ref,style:a},Object(l.createElement)(\"div\",{ref:this.toolbar_ref,id:\"toolbar\"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar}))},e}(l.Component),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isMounted=!1,e.state={loadingStatus:\"loading\",google:null},e.onLoad=function(t){if(e.isFullyLoaded(t))e.onSuccess(t);else var r=setInterval((function(){var t=window.google;e._isMounted?t&&e.isFullyLoaded(t)&&(clearInterval(r),e.onSuccess(t)):clearInterval(r)}),1e3)},e.onSuccess=function(t){e.setState({loadingStatus:\"ready\",google:t})},e.onError=function(){e.setState({loadingStatus:\"errored\"})},e}return o(e,t),e.prototype.render=function(){var t=this.props,e=t.chartLanguage,r=t.chartPackages,o=t.chartVersion,n=t.mapsApiKey,a=t.loader,i=t.errorElement;return Object(l.createElement)(C,{value:this.props},\"ready\"===this.state.loadingStatus&&null!==this.state.google?Object(l.createElement)(P,c({},this.props,{google:this.state.google})):\"errored\"===this.state.loadingStatus&&i?i:a,Object(l.createElement)(d,c({},{chartLanguage:e,chartPackages:r,chartVersion:o,mapsApiKey:n},{onLoad:this.onLoad,onError:this.onError})))},e.prototype.componentDidMount=function(){this._isMounted=!0},e.prototype.componentWillUnmount=function(){this._isMounted=!1},e.prototype.isFullyLoaded=function(t){var e=this.props,r=e.controls,o=e.toolbarItems,n=e.getChartEditor;return t&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!r||t.visualization.ChartWrapper)&&(!n||t.visualization.ChartEditor)&&(!o||t.visualization.drawToolbar)},e.defaultProps=p,e}(l.Component);console.log({Chart:_})}]);","extractedComments":[]}